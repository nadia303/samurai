(this.webpackJsonpproject1=this.webpackJsonpproject1||[]).push([[0],{119:function(e,t,n){},127:function(e,t,n){e.exports={post:"MyPost_post__3JuAg"}},14:function(e,t,n){e.exports={nav:"Navbar_nav__3yl-W",item:"Navbar_item__1DEOO",active:"Navbar_active__3Eq_N"}},160:function(e,t,n){},161:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},25:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__NUZ6L",dialog:"Dialogs_dialog__2pv5u",messages:"Dialogs_messages__2qLPi",message:"Dialogs_message__2uPUK",active:"Dialogs_active__3Dlvf"}},292:function(e,t,n){e.exports={post:"MyPosts_post__1OnKH"}},293:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=n(60),c=n.n(a),i=(n(160),n(17)),o=n(18),u=n(20),l=n(19),d=(n(161),n(10)),j=n(11),p=n(14),h=n.n(p),b=n(0),f=function(){return Object(b.jsxs)("nav",{className:h.a.nav,children:[Object(b.jsx)("div",{className:h.a.item,children:Object(b.jsx)(j.b,{to:"/profile",activeClassName:h.a.active,children:"Profile"})}),Object(b.jsx)("div",{className:h.a.item,children:Object(b.jsx)(j.b,{to:"/dialogs",activeClassName:h.a.active,children:"Messages"})}),Object(b.jsx)("div",{className:h.a.item,children:Object(b.jsx)(j.b,{to:"/users",activeClassName:h.a.active,children:"Users"})}),Object(b.jsx)("div",{className:h.a.item,children:Object(b.jsx)(j.b,{to:"/news",activeClassName:h.a.active,children:"News"})}),Object(b.jsx)("div",{className:h.a.item,children:Object(b.jsx)(j.b,{to:"/music",activeClassName:h.a.active,children:"Music"})}),Object(b.jsx)("div",{className:h.a.item,children:Object(b.jsx)(j.b,{to:"/settings",activeClassName:h.a.active,children:"Settings"})})]})},g=(n(171),function(){return Object(b.jsx)("div",{children:"This is News page"})}),m=(n(172),function(){return Object(b.jsx)("div",{children:"This is music page"})}),O=(n(173),function(){return Object(b.jsx)("div",{children:"This is settings page"})}),v=n(9),x=n(25),w=n.n(x),y=n(39),C=n(3),P="SEND_MESSAGE",S={messagesData:[{id:1,message:"Hello!"},{id:2,message:"How are you today?"},{id:3,message:"Whats your problem?"}],dialogsData:[{id:1,name:"Anna"},{id:2,name:"Sophie"},{id:3,name:"Dima"},{id:4,name:"Andrew"},{id:5,name:"Roxy"},{id:6,name:"Alla"}]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:var n=t.newMessageBody;return Object(C.a)(Object(C.a)({},e),{},{messagesData:[].concat(Object(y.a)(e.messagesData),[{id:6,message:n}])});default:return e}},I=function(e){return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:w.a.dialog,children:Object(b.jsx)(j.b,{to:"/dialogs/"+e.id,children:e.name})})})},N=function(e){return Object(b.jsx)("div",{className:w.a.message,children:e.message})},U=n(120),E=n(121),M=function(e){if(!e)return"Field is required"},D=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},k=n(130),T=n(47),z=n.n(T),F=["input","meta"],G=function(e){return function(t){var n=t.input,s=t.meta,r=Object(k.a)(t,F),a=s.touched&&s.error;return Object(b.jsxs)("div",{className:z.a.formControl+" "+(a?z.a.error:""),children:[Object(b.jsx)(e,Object(C.a)(Object(C.a)({},n),r)),a&&Object(b.jsxs)("span",{children:[" ",s.error," "]})]})}},R=D(50),L=G("textarea"),B=Object(E.a)({form:"dialogAddMessageForm"})((function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)(U.a,{component:L,validate:[M,R],name:"newMessageBody",placeholder:"Enter your message"}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Send"})})]})})),K=function(e){e.newMessage;var t=e.dialogsData.map((function(e){return Object(b.jsx)(I,{name:e.name},e.id)})),n=e.messagesElements.map((function(e){return Object(b.jsx)(N,{message:e.message},e.id)}));return Object(b.jsxs)("div",{className:w.a.dialogs,children:[Object(b.jsx)("div",{className:w.a.dialogsItems,children:t}),Object(b.jsxs)("div",{className:w.a.messages,children:[Object(b.jsx)("div",{children:n}),Object(b.jsx)("div",{})]}),Object(b.jsx)(B,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]})},V=function(e){return{isAuth:e.auth.isAuth}},Y=function(e){var t=function(t){Object(u.a)(s,t);var n=Object(l.a)(s);function s(){return Object(i.a)(this,s),n.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(e,Object(C.a)({},this.props)):Object(b.jsx)(v.a,{to:"/login"})}}]),s}(r.a.Component);return Object(d.b)(V)(t)},Z=n(8),q=Object(Z.compose)(Object(d.b)((function(e){return{dialogsData:e.messagesPage.dialogsData,newMessage:e.messagesPage.newMessageBody,messagesElements:e.messagesPage.messagesData}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:P,newMessageBody:e}}(t))}}})),Y)(K),Q=n(88),J=n.n(Q),_=n(83),W=_.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"05d78d3e-a2fd-40a1-a2b7-865ce3a85e7c"}}),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return W.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},X=function(e){return W.post("follow/".concat(e))},$=function(e){return W.delete("follow/".concat(e))},ee=function(e){return console.log("Warning: obsolete method. Use profileAPI object"),te.getProfile(e)},te={getProfile:function(e){return W.get("profile/"+e)},getStatus:function(e){return W.get("profile/status/"+e)},updateStatus:function(e){return W.post("profile/status",{status:e})}},ne=function(){return W.get("auth/me")},se=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return W.post("auth/login",{email:e,password:t,rememberMe:n,captcha:s})},re=function(){return W.delete("auth/login")},ae=function(){return W.get("security/get-captcha-url")},ce=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:n.map((function(t){return Object(b.jsx)("span",{className:e.currentPage===t&&J.a.selectedPage,onClick:function(n){e.onPageChanged(t)},children:t})}))}),e.users.map((function(t){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:Object(b.jsx)(j.b,{to:"/profile/"+t.id,children:Object(b.jsx)("img",{src:null!=t.photos.small?t.photos.small:"data:image/png;base64,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",className:J.a.photo})})}),Object(b.jsx)("div",{children:t.followed?Object(b.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(b.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(b.jsxs)("span",{children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:t.name}),Object(b.jsx)("div",{children:t.status})]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("div",{children:"user.location.country"}),Object(b.jsx)("div",{children:"user.location.city"})]})]})]},t.id)}))]})},ie=n(21),oe=n.n(ie),ue=n(33),le="FOLLOW",de="UNFOLLOW",je="SET_USERS",pe="SET_CURRENT_PAGE",he="SET_TOTAL_USERS_COUNT",be="TOGGLE_IS_FETCHING",fe="TOGGLE_IS_FOLLOWING_PROCESS",ge={users:[],pageSize:5,totalUsersCount:0,currentPage:2,isFetching:!0,followingInProgress:[]},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(C.a)(Object(C.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(C.a)(Object(C.a)({},e),{},{followed:!0}):e}))});case de:return Object(C.a)(Object(C.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(C.a)(Object(C.a)({},e),{},{followed:!1}):e}))});case je:return Object(C.a)(Object(C.a)({},e),{},{users:t.users});case pe:return Object(C.a)(Object(C.a)({},e),{},{currentPage:t.currentPage});case he:return Object(C.a)(Object(C.a)({},e),{},{totalUsersCount:t.totalCount});case be:return Object(C.a)(Object(C.a)({},e),{},{isFetching:t.isFetching});case fe:return Object(C.a)(Object(C.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(y.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Oe=function(e){return{type:je,users:e}},ve=function(e){return{type:pe,currentPage:e}},xe=function(e){return{type:he,totalCount:e}},we=function(e){return{type:be,isFetching:e}},ye=function(e,t){return{type:fe,isFetching:e,userId:t}},Ce=n.p+"static/media/preloader.a1a99674.gif",Pe=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:Ce})," "]})},Se=function(e){return e.usersPage.users},Ae=function(e){return e.usersPage.pageSize},Ie=function(e){return e.usersPage.totalUsersCount},Ne=function(e){return e.usersPage.currentPage},Ue=function(e){return e.usersPage.isFetching},Ee=function(e){return e.usersPage.followingInProgress},Me=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsersTwo(t,e.props.pageSize)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[this.props.isFetching?Object(b.jsx)(Pe,{}):null,Object(b.jsx)(ce,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(r.a.Component),De=Object(Z.compose)(Object(d.b)((function(e){return{users:Se(e),pageSize:Ae(e),totalUsersCount:Ie(e),currentPage:Ne(e),isFetching:Ue(e),followingInProgress:Ee(e)}}),{follow:function(e){return function(t){t(ye(!0,e)),X(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:le,userId:e}}(e)),t(ye(!1,e))}))}},unfollow:function(e){return function(t){t(ye(!0,e)),$(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:de,userId:e}}(e)),t(ye(!1,e))}))}},setUsers:Oe,setCurrentPage:ve,setTotalUsersCount:xe,toggleIsFetching:we,getUsers:function(e,t){return function(){var n=Object(ue.a)(oe.a.mark((function n(s){var r;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(we(!0)),n.next=3,H(e,t);case 3:r=n.sent,s(we(!1)),s(Oe(r.items)),s(xe(r.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getUsersTwo:function(e,t){return function(n){n(we(!0)),n(ve(e)),H(e,t).then((function(e){n(we(!1)),n(Oe(e.items))}))}}}))(Me),ke=(n(292),n(127)),Te=n.n(ke),ze=function(e){return Object(b.jsxs)("div",{className:Te.a.post,children:[Object(b.jsx)("img",{src:"https://media.macphun.com/img/uploads/customer/how-to/579/15531840725c93b5489d84e9.43781620.jpg?q=85&w=1340"}),Object(b.jsx)("p",{children:e.message}),Object(b.jsx)("div",{children:Object(b.jsx)("span",{children:e.like})})]})},Fe=G("textarea"),Ge=D(10),Re=function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)(U.a,{name:"newPostText",component:Fe,placeholder:"Post message",validate:[M,Ge]}),Object(b.jsx)("button",{children:"Add post"})]})};Re=Object(E.a)({form:"ProfileAddNewPostForm"})(Re);var Le=r.a.memo((function(e){console.log("Render posts");var t=e.postsData.map((function(e){return Object(b.jsx)(ze,{message:e.message,like:e.likesCount},e.id)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"my posts"}),Object(b.jsx)(Re,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(b.jsx)("div",{children:"new posts"}),Object(b.jsx)("div",{children:t})]})})),Be="ADD-POST",Ke="SET_USER_PROFILE",Ve="SET_STATUS",Ye="DELETE_POST",Ze={postsData:[{id:1,message:"Hi!",likesCount:12},{id:2,message:"How are you today?",likesCount:1},{id:3,message:"This is my first post",likesCount:22},{id:4,message:"What is the weather today?",likesCount:52}],profile:null,status:""},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:var n={id:5,message:t.newPostText,likesCount:10};return Object(C.a)(Object(C.a)({},e),{},{postsData:[].concat(Object(y.a)(e.postsData),[n]),newPostText:""});case Ve:return Object(C.a)(Object(C.a)({},e),{},{status:t.status});case Ye:return Object(C.a)(Object(C.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!=t.id}))});case Ke:return Object(C.a)(Object(C.a)({},e),{},{profile:t.profile});default:return e}},Qe=function(e){return{type:Ve,status:e}},Je=Object(d.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:Be,newPostText:e}}(t))}}}))(Le),_e=(n(119),n(62)),We=n.n(_e),He=(r.a.Component,n(89)),Xe=function(e){var t=Object(s.useState)(!1),n=Object(He.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(e.status),i=Object(He.a)(c,2),o=i[0],u=i[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(b.jsxs)("div",{children:[!r&&Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){a(!0)},children:e.status||"-----yo"})}),r&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},value:o,autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(o)}})})]})},$e=function(e){return e.profile?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:We.a.descriptionInfo,children:Object(b.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRp4hTNASR11JtNsMZ8T5Pm-LQJovuLMPJVBA&usqp=CAU"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:e.profile.photos.large}),Object(b.jsx)(Xe,{status:e.status,updateStatus:e.updateStatus})]})]}):Object(b.jsx)("div",{children:"No values here"})},et=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)($e,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(b.jsx)(Je,{})]})},tt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(b.jsx)(et,Object(C.a)(Object(C.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(r.a.Component),nt=Object(Z.compose)(v.f,Object(d.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(t){ee(e).then((function(e){var n;t((n=e.data,{type:Ke,profile:n}))}))}},getStatus:function(e){return function(t){te.getStatus(e).then((function(e){t(Qe(e.data))}))}},updateStatus:function(e){return function(t){te.updateStatus(e).then((function(e){0===e.data.resultCode&&t(Qe(e.data))}))}}}),Y)(tt),st=n(65),rt=n.n(st),at=function(e){return Object(b.jsxs)("header",{className:rt.a.header,children:[Object(b.jsx)("img",{src:"https://ravenandmacaw.com/wp-content/uploads/2021/07/company-logo.png"}),Object(b.jsx)("div",{className:rt.a.loginBlock,children:e.isAuth?Object(b.jsxs)("div",{children:[" ",e.login," - ",Object(b.jsx)("button",{onClick:e.logout,children:"Logout"})]}):Object(b.jsx)(j.b,{to:"/login",children:"Login"})})]})},ct=n(35),it="SET_USER_DATA",ot="samurai-network/auth/GET_CAPTCHA_URL_SUCCESS",ut={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it:case ot:return Object(C.a)(Object(C.a)({},e),t.payload);default:return e}},dt=function(e,t,n,s){return{type:it,payload:{userId:e,email:t,login:n,isAuth:s}}},jt=function(){return function(){var e=Object(ue.a)(oe.a.mark((function e(t){var n,s,r,a,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:0===(n=e.sent).data.resultCode&&(s=n.data.data,r=s.id,a=s.login,c=s.email,t(dt(r,c,a,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pt=function(){return function(){var e=Object(ue.a)(oe.a.mark((function e(t){var n,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:n=e.sent,s=n.data.url,t({type:ot,payload:{captchaUrl:s}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ht=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(at,Object(C.a)({},this.props))}}]),n}(r.a.Component),bt=Object(d.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(ue.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:0===e.sent.data.resultCode&&t(dt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ht),ft=G("input"),gt=Object(E.a)({form:"login"})((function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(U.a,{placeholder:"Email",name:"email",component:ft,validate:[M]})}),Object(b.jsx)("div",{children:Object(b.jsx)(U.a,{placeholder:"Password",name:"password",type:"password",component:ft,validate:[M]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(U.a,{type:"checkbox",name:"rememberMe",component:ft}),Object(b.jsx)("span",{children:"remember me"})]}),e.captchaUrl&&Object(b.jsx)("img",{src:e.captchaUrl}),e.captchaUrl&&Object(b.jsx)("div",{children:Object(b.jsx)(U.a,{placeholder:"Symbols from image",name:"captcha",component:ft,validate:[M]})}),e.error&&Object(b.jsxs)("div",{className:z.a.formSummaryError,children:[" ",e.error]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:"Login"})})]})})),mt=Object(d.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:function(e,t,n,s){return function(){var r=Object(ue.a)(oe.a.mark((function r(a){var c,i,o;return oe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,se(e,t,n,s);case 2:0===(c=r.sent).data.resultCode?a(jt()):(10===c.data.resultCode&&a(pt()),i=c.data.messages.length>0?c.data.messages[0]:"Some error",o=Object(ct.a)("login",{_error:i}),a(o));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(b.jsx)(v.a,{to:"/profile"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"LOGIN"}),Object(b.jsx)(gt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha),console.log(t)},captchaUrl:e.captchaUrl})]})})),Ot="app-reducer/INITIALIZED_SUCCESS",vt={initialized:!1},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return Object(C.a)(Object(C.a)({},e),{},{initialized:!0});default:return e}},wt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(b.jsx)(j.a,{children:Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(bt,{}),Object(b.jsx)(f,{}),Object(b.jsxs)("div",{className:"app-wrapper-content",children:[Object(b.jsx)(v.b,{path:"/dialogs",render:function(){return Object(b.jsx)(q,{})}}),Object(b.jsx)(v.b,{path:"/profile/:userId?",render:function(){return Object(b.jsx)(nt,{})}}),Object(b.jsx)(v.b,{path:"/users",render:function(){return Object(b.jsx)(De,{})}}),Object(b.jsx)(v.b,{path:"/news",component:g}),Object(b.jsx)(v.b,{path:"/music",component:m}),Object(b.jsx)(v.b,{path:"/settings",component:O}),Object(b.jsx)(v.b,{path:"/login",component:mt})]})]})}):Object(b.jsx)(Pe,{})}}]),n}(r.a.Component),yt=Object(Z.compose)(v.f,Object(d.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(jt());Promise.all([t]).then((function(){e({type:Ot})}))}}}))(wt),Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,295)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))},Pt={},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt;return e},At=n(129),It=n(122),Nt=n(128),Ut=Object(Z.combineReducers)({profilePage:qe,messagesPage:A,sidebar:St,usersPage:me,auth:lt,app:xt,form:It.a}),Et=Object(Z.createStore)(Ut,Object(Nt.composeWithDevTools)(Object(Z.applyMiddleware)(At.a)));window.store=Et;var Mt=Et;c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(j.a,{children:Object(b.jsx)(d.a,{store:Mt,children:Object(b.jsx)(yt,{})})})}),document.getElementById("root")),Ct()},47:function(e,t,n){e.exports={formControl:"FormControls_formControl__1yxkG",error:"FormControls_error__4kCYo",formSummaryError:"FormControls_formSummaryError__1RAoh"}},62:function(e,t,n){e.exports={descriptionInfo:"ProfileInfo_descriptionInfo__3oiYV"}},65:function(e,t,n){e.exports={header:"Header_header__1dV_J",loginBlock:"Header_loginBlock__3-wp2"}},88:function(e,t,n){e.exports={photo:"users_photo__Ii8PL",selectedPage:"users_selectedPage__2pydJ"}}},[[293,1,2]]]);
//# sourceMappingURL=main.1eae1d56.chunk.js.map